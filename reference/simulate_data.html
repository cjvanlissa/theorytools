<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulate Data from DAG — simulate_data • theorytools</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Simulate Data from DAG — simulate_data"><meta name="description" content="Simulates data from an (augmented) DAG, respecting the optional
metadata fields form, for functional form of relationships, and
distribution, for the distributions of exogenous nodes and
residuals."><meta property="og:description" content="Simulates data from an (augmented) DAG, respecting the optional
metadata fields form, for functional form of relationships, and
distribution, for the distributions of exogenous nodes and
residuals."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">theorytools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/augmented_dags.html">Specifying Augmented Directed Acyclic Graphs</a></li>
    <li><a class="dropdown-item" href="../articles/causal-inference.html">Using FAIR Theory for Causal Inference</a></li>
    <li><a class="dropdown-item" href="../articles/fair-theory.html">Making a Theory FAIR</a></li>
    <li><a class="dropdown-item" href="../articles/formalizing_sdt.html">Formalizing Self-Determination Theory</a></li>
    <li><a class="dropdown-item" href="../articles/readme.html">What to Include in a README?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cjvanlissa/theorytools/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simulate Data from DAG</h1>
      <small class="dont-index">Source: <a href="https://github.com/cjvanlissa/theorytools/blob/master/R/simulate_data.R" class="external-link"><code>R/simulate_data.R</code></a></small>
      <div class="d-none name"><code>simulate_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulates data from an (augmented) DAG, respecting the optional
metadata fields <code>form</code>, for functional form of relationships, and
<code>distribution</code>, for the distributions of exogenous nodes and
residuals.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simulate_data</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  beta_default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, min <span class="op">=</span> <span class="op">-</span><span class="fl">0.6</span>, max <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  n <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  run <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  duplicated <span class="op">=</span> <span class="st">"unique"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class <code>dagitty</code>.</p></dd>


<dt id="arg-beta-default">beta_default<a class="anchor" aria-label="anchor" href="#arg-beta-default"></a></dt>
<dd><p>Function used to specify missing edge coefficients.
Default: <code>runif(1, min = -0.6, max = 0.6)</code></p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Atomic integer defining the sample size, default: <code>500</code></p></dd>


<dt id="arg-run">run<a class="anchor" aria-label="anchor" href="#arg-run"></a></dt>
<dd><p>Logical, indicating whether or not to run the simulation. Default:
<code>TRUE</code>.</p></dd>


<dt id="arg-duplicated">duplicated<a class="anchor" aria-label="anchor" href="#arg-duplicated"></a></dt>
<dd><p>Atomic character, indicating how to resolve duplicate terms
from multiple edges pointing to the same node. Default: <code>"unique"</code>. See
Details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>run</code> is <code>TRUE</code>, this function returns a <code>data.frame</code> with
an additional attribute called <code>attr( , which = "script")</code> that contains the
script for simulating data. If <code>run</code> is <code>FALSE</code>, this function returns the
script as <code>character</code> vector.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Data is simulated sequentially, first from exogenous nodes and then
from their descendants. If <code>x</code> is an augmented DAG with metadata indicating
the functional <code>form</code> of relationships and <code>distribution</code> of exogenous nodes
and residuals, this information is used. If this information is absent, nodes
and residuals are assumed to be normally distributed, and edges are assumed
to be linear, with coefficients samples based on <code>beta_default</code>.</p>
<p>The argument <code>duplicated</code> controls how multiplicative terms are merged across
edges pointing to the same outcome node. The default <code>duplicated = "unique"</code>
removes terms that are duplicated across edges (i.e.,
if two edges point to node <code>"O"</code>, and both edges specify <code>.5*E</code>, the resulting
function will say <code>.5*E</code>. However, if one edge specifies <code>.2*E</code> and the other
specifies <code>.3*E</code>, they are not duplicated and will be added.
Alternatively, <code>duplicated = "add"</code> just sums terms across all edges pointing
into the same outcome node.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://cjvanlissa.github.io/tidySEM/reference/get_nodes.html" class="external-link">get_nodes</a></code>, <code><a href="https://cjvanlissa.github.io/tidySEM/reference/get_edges.html" class="external-link">get_edges</a></code>
<code><a href="https://rdrr.io/pkg/dagitty/man/exogenousVariables.html" class="external-link">exogenousVariables</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dagitty</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/dagitty/man/dagitty.html" class="external-link">dagitty</a></span><span class="op">(</span><span class="st">'</span></span></span>
<span class="r-in"><span><span class="st">dag {</span></span></span>
<span class="r-in"><span><span class="st">  X [distribution="rbinom(size = 2, prob = .5)"]</span></span></span>
<span class="r-in"><span><span class="st">  Z [distribution="rexp()"]</span></span></span>
<span class="r-in"><span><span class="st">  Y [distribution="rnorm()"]</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  X -&gt; Y [form="0.5+X"]</span></span></span>
<span class="r-in"><span><span class="st">  Z -&gt; Y [form="2*Z"]</span></span></span>
<span class="r-in"><span><span class="st">  A -&gt; X</span></span></span>
<span class="r-in"><span><span class="st">}</span></span></span>
<span class="r-in"><span><span class="st">'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">txt</span> <span class="op">&lt;-</span> <span class="fu">simulate_data</span><span class="op">(</span><span class="va">x</span>, n <span class="op">=</span> <span class="fl">5</span>, run <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> No valid distribution for data, used rnorm() instead.</span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">simulate_data</span><span class="op">(</span><span class="va">x</span>, n <span class="op">=</span> <span class="fl">5</span>, run <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> No valid distribution for data, used rnorm() instead.</span>
<span class="r-in"><span><span class="va">df_from_txt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/eval.html" class="external-link">eval</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/parse.html" class="external-link">parse</a></span><span class="op">(</span>text <span class="op">=</span> <span class="va">txt</span><span class="op">)</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Caspar J. Van Lissa.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

